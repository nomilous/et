// Generated by CoffeeScript 1.4.0
var Ebb;

Ebb = (function() {

  function Ebb() {}

  Ebb.loadModel = function(plural, defn) {
    this.models[plural] = defn;
    if (defn.get instanceof Function) {
      if (defn.get.length === 1) {
        this.routes.get[plural] = "/" + plural + "/:id";
        return console.info("assigned route /" + plural + "/:id");
      } else {
        return console.error("model for " + plural + " defines get() without id");
      }
    } else {
      return console.warn("model for " + plural + " defines no get()");
    }
  };

  Ebb.loadModels = function(models) {
    var defn, plural, _results;
    _results = [];
    for (plural in models) {
      defn = models[plural];
      _results.push(this.loadModel(plural, defn));
    }
    return _results;
  };

  Ebb.configure = function(opts) {
    var _base;
    if (opts == null) {
      opts = {};
    }
    this.models || (this.models = {});
    this.routes || (this.routes = {});
    (_base = this.routes).get || (_base.get = {});
    if (opts.models) {
      this.loadModels(opts.models);
    }
    return function(req, res, next) {
      return next();
    };
  };

  return Ebb;

})();

module.exports = Ebb;
