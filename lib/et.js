// Generated by CoffeeScript 1.4.0
var Et;

Et = (function() {

  function Et() {
    this.session = require('./session');
    this.model = require('./model');
    this.auth = require('./auth');
    this.route = require('./route');
  }

  Et.prototype.al = function(opts) {
    var et;
    if (opts == null) {
      opts = {};
    }
    console.log('init et.al()');
    this.resurce = opts.resource;
    et = this;
    if (opts.app) {
      opts.app.use(function(req, res, next) {
        req.et = et;
        return next();
      });
    }
    this.session.config(this, opts);
    this.model.config(this, opts);
    this.auth.config(this, opts);
    this.route.config(this, opts);
    return function(req, res, next) {
      console.warn('UNHANDLED request ', req.path);
      return next();
    };
  };

  return Et;

})();

module.exports = new Et();
